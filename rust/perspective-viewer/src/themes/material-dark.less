/******************************************************************************
 *
 * Copyright (c) 2017, the Perspective Authors.
 *
 * This file is part of the Perspective library, distributed under the terms of
 * the Apache License 2.0.  The full license can be found in the LICENSE file.
 *
 */

@import url("ref://material.less");

// Register theme for auto-detection
perspective-viewer,
perspective-viewer[theme="Material Dark"] {
    --theme-name: "Material Dark";
}

perspective-viewer[theme="Material Dark"] {
    @include perspective-viewer-material-dark;
}

perspective-copy-menu[theme="Material Dark"],
perspective-export-menu[theme="Material Dark"],
perspective-filter-dropdown[theme="Material Dark"],
perspective-date-column-style[theme="Material Dark"],
perspective-datetime-column-style[theme="Material Dark"],
perspective-number-column-style[theme="Material Dark"],
perspective-string-column-style[theme="Material Dark"],
perspective-expression-editor[theme="Material Dark"] {
    @include perspective-modal-material-dark;
}

@mixin perspective-viewer-material-dark {
    @include perspective-viewer-material;
    @include perspective-viewer-material-dark--colors;
    @include perspective-viewer-material-dark--datagrid;
    @include perspective-viewer-material-dark--d3fc;
    @include perspective-viewer-material-dark--openlayers;
}

@mixin perspective-modal-material-dark {
    @include perspective-modal-material;
    @include perspective-viewer-material-dark--colors;

    background-color: @grey700;
    border: 1px solid @grey300;
}

@mixin perspective-viewer-material-dark--colors {
    background-color: @grey800;
    color: white;
    --active--color: #2770a9;
    --error--color: @red50;
    --inactive--color: @grey300;
    --plugin--background: @grey700;
    --modal-target--background: rgba(255, 255, 255, 0.05);
    --select--background-color: @grey800;
    --active--background: rgba(39, 113, 170, 0.5);
    --expression--operator-color: @grey60;
    --expression--function-color: @lightblue600;
    --expression--error-color: rgb(255, 136, 136);
    --calendar--filter: invert(1);
    --warning--color: #333;

    // Column type indicators
    --float--column-type--color: @blue50;
    --string--column-type--color: @red50;
    --date--column-type--color: @green50;
    --boolean--column-type--color: @orange50;

    // Syntax
    --code-editor-symbol--color: white;
    --code-editor-literal--color: @blue50;
    --code-editor-operator--color: rgb(23, 166, 123);
    --code-editor-comment--color: rgb(204, 120, 48);
}

@mixin perspective-viewer-material-dark--openlayers {
    --map-tile-url: "http://{a-c}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png";
    --map-attribution--filter: invert(1) hue-rotate(180deg);
    --map-element-background: @grey700;
    --map-category-1: rgb(71, 120, 194);
    --map-category-2: rgb(204, 120, 48);
    --map-category-3: rgb(158, 84, 192);
    --map-category-4: rgb(51, 150, 153);
    --map-category-5: rgb(102, 114, 143);
    --map-category-6: rgb(211, 103, 189);
    --map-category-7: rgb(109, 124, 77);
    --map-category-8: rgb(221, 99, 103);
    --map-category-9: rgb(120, 104, 206);
    --map-category-10: rgb(23, 166, 123);
    --map-gradient: linear-gradient(#dd6367 0%,
            #242526 50%,
            #3289c8 100%);
}

@mixin perspective-viewer-material-dark--datagrid {
    regular-table {
        --rt-pos-cell--color: @blue50;
        --rt-neg-cell--color: @red50;

        table {
            color: white;
        }

        table tr:hover {
            color: white;
        }

        table tbody tr {

            td,
            th {
                --rt-hover--border-color: @grey200;
                border-top-color: @grey500;
            }
        }
    }

    regular-table:hover::-webkit-scrollbar-thumb {
        background-color: @grey500;
    }

    tbody th:empty {
        background: linear-gradient(to right,
                transparent 9px,
                @grey500 10px,
                transparent 11px);
        background-repeat: no-repeat;
        background-position: 0px -10px;
    }
}

@mixin perspective-viewer-material-dark--d3fc {
    --d3fc-legend--text: @grey60;
    --d3fc-treedata--labels: white;
    --d3fc-treedata--hover-highlight: white;
    --d3fc-tooltip--color: white;
    --d3fc-axis-ticks--color: @grey60;
    --d3fc-axis--lines: @grey200;
    --d3fc-gridline--color: @grey500;
    --d3fc-tooltip--background: rgba(42, 44, 47, 1);
    --d3fc-tooltip--border-color: @grey800;
    --d3fc-legend--background: rgba(42, 44, 47, 0.8);

    --d3fc-series: rgb(71, 120, 194);
    --d3fc-series-1: rgb(71, 120, 194);
    --d3fc-series-2: rgb(204, 120, 48);
    --d3fc-series-3: rgb(158, 84, 192);
    --d3fc-series-4: rgb(51, 150, 153);
    --d3fc-series-5: rgb(102, 114, 143);
    --d3fc-series-6: rgb(211, 103, 189);
    --d3fc-series-7: rgb(109, 124, 77);
    --d3fc-series-8: rgb(221, 99, 103);
    --d3fc-series-9: rgb(120, 104, 206);
    --d3fc-series-10: rgb(23, 166, 123);

    --d3fc-full--gradient: linear-gradient(#dd6367 0%,
            #242526 50%,
            #3289c8 100%);

    --d3fc-positive--gradient: linear-gradient(#242526 0%, #3289c8 100%);
    --d3fc-negative--gradient: linear-gradient(#dd6367 0%, #242526 100%);
}