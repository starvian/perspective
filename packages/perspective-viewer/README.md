<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [registerPlugin][1]
-   [View][2]
    -   [notifyResize][3]
    -   [worker][4]
    -   [message][5]
    -   [load][6]
    -   [update][7]
    -   [columns][8]
    -   [aggregates][9]
    -   [filters][10]
    -   [view][11]
    -   [index][12]
    -   [copy][13]
    -   [sort][14]
    -   [delete][15]
    -   [save][16]
    -   [restore][17]
    -   [reset][18]
-   [column-pivots][19]
-   [row-pivots][20]

## registerPlugin

Register a plugin with the <perspective-viewer> component.

**Parameters**

-   `name` **[string][21]** The logical unique name of the plugin.  This will be 
    used to set the component's `view` attribute.
-   `plugin` **[object][22]** An object with this plugin's prototype.  Valid keys are:
        name : The display name for this plugin.
        create (required) : The creation function - may return a `Promise`.
        delete : The deletion function.
        mode : The selection mode - may be "toggle" or "select".

## View

**Extends ViewPrivate**

HTMLElement class for `<perspective-viewer` custom element.

### notifyResize

Invalidate this element's dimensions and redraw (if the element is
visible).

### worker

This element's `perspective` worker instance.  This property is not 
reflected as an HTML attribute, and is readonly;  it can be effectively 
set however by calliong the `load() method with a`perspective.table\` 
instance from the preferred worker.

**Examples**

```javascript
let elem = document.getElementById('my_viewer');
let table = elem.worker.table([{x:1, y:2}]);
elem.load(table);
```

### message

When set, hide the data visualization and display the message.  Setting
`message` does not clear the internal `perspective.table`, but it does
render it hidden until the message is removed.

**Parameters**

-   `msg` **[string][21]** The message. This can be HTML - it is not sanitized.

### load

Load data.  If `load` or `update` have already been called on this
element, its internal `perspective.table` will also be deleted.

**Parameters**

-   `data` **any** The data to load.  Works with the same input types
    supported by `perspective.table`.

**Examples**

_Load JSON_

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.load([
    {x: 1, y: 'a'},
    {x: 2, y: 'b'}
]);
```

_Load CSV_

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.load("x,y\n1,a\n2,b");
```

### update

Updates this element's `perspective.table` with new data.

**Parameters**

-   `data` **any** The data to load.  Works with the same input types
    supported by `perspective.table.update`.

**Examples**

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.update([
    {x: 1, y: 'a'},
    {x: 2, y: 'b'}
]);
```

### columns

The set of visibile columns.

**Parameters**

-   `c`  
-   `columns` **[array][23]** An array of strings, the names of visible columns.

**Examples**

_via Javascript DOM_

```javascript
let elem = document.getElementById('my_viewer');
elem.setAttribute('columns', JSON.stringify(["x", "y'"]));
```

_via HTML_

```javascript
<perspective-viewer columns='["x", "y"]'></perspective-viewer>
```

### aggregates

The set of column aggregate configurations.

**Parameters**

-   `a`  
-   `aggregates` **[array][23]** An arry of aggregate config objects, which
        specify what aggregate settings to use when the associated column
        is visible, and at least one `row-pivot` is defined.  An aggregate
        config object has two properties:
            `name`: The column name.
            `op`: The aggregate type as a string.  See [perspective/src/js/defaults.js][24]

### filters

The set of column filter configurations.

**Parameters**

-   `f`  

### view

Sets the currently selected plugin, via its `name` field.

**Parameters**

-   `v`  

### index

The column name to index by.  Due to the mutable nature of 
`perspective.table`, `index` cannot be modified once `load` or `update`
has been called.

**Parameters**

-   `i`  

### copy

Duplicate an existing `<perspective-element>`, including data and view
settings.  The underlying `perspective.table` will be shared between both
elements

**Parameters**

-   `widget` **any** A `<perspective-viewer>` instance to copy.

### sort

Sets this `perspective.table.view`'s `sort` property.

**Parameters**

-   `s`  

### delete

Deletes this element's data and clears it's internal state (but not its
user state).  This (or the underlying `perspective.table`'s equivalent
method) must be called in order for its memory to be reclaimed.

Returns **[Promise][25]&lt;bool>** Whether or not this call resulted in the 
underlying `perspective.table` actually being deleted.

### save

Serialize this element's attribute/interaction state.

Returns **[object][22]** a serialized element.

### restore

Resotre this element to a state as generated by a reciprocal call to
`save`.

**Parameters**

-   `x` **[object][22]** returned by `save`.

### reset

Reset's this element's view state and attributes to default.  Does not
delete this element's `perspective.table` or otherwise modify the data
state.

## column-pivots

Sets this `perspective.table.view`'s `column_pivots` property.

## row-pivots

Sets this `perspective.table.view`'s `row_pivots` property.

[1]: #registerplugin

[2]: #view

[3]: #notifyresize

[4]: #worker

[5]: #message

[6]: #load

[7]: #update

[8]: #columns

[9]: #aggregates

[10]: #filters

[11]: #view-1

[12]: #index

[13]: #copy

[14]: #sort

[15]: #delete

[16]: #save

[17]: #restore

[18]: #reset

[19]: #column-pivots

[20]: #row-pivots

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[24]: perspective/src/js/defaults.js

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
