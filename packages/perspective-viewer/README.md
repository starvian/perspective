<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [registerPlugin][1]
-   [\_attribute][2]
-   [View][3]
    -   [view][4]
    -   [index][5]
    -   [message][6]
    -   [worker][7]
    -   [load][8]
    -   [update][9]
    -   [notifyResize][10]
    -   [copy][11]
    -   [delete][12]
    -   [save][13]
    -   [restore][14]
    -   [reset][15]
-   [sort][16]
-   [columns][17]
-   [aggregates][18]
-   [filters][19]
-   [column-pivots][20]
-   [row-pivots][21]

## registerPlugin

Register a plugin with the <perspective-viewer> component.

**Parameters**

-   `name` **[string][22]** The logical unique name of the plugin.  This will be 
    used to set the component's `view` attribute.
-   `plugin` **[object][23]** An object with this plugin's prototype.  Valid keys are:
        name : The display name for this plugin.
        create (required) : The creation function - may return a `Promise`.
        delete : The deletion function.
        mode : The selection mode - may be "toggle" or "select".

## \_attribute

A decorator for declaring a setter property of an HTMLElement descendent
class as serialized JSON.  Handles converting these types before invoking
the underlying function/

**Parameters**

-   `_default` **[object][23]** the default value to supply the setter when
    undefined, removed or invalid.

## View

**Extends ViewPrivate**

HTMLElement class for `<perspective-viewer` custom element.

### view

Sets the currently selected plugin, via its `name` field.

**Parameters**

-   `v`  

### index

The column name to index by.  Due to the mutable nature of 
`perspective.table`, `index` cannot be modified once `load` or `update`
has been called.

**Parameters**

-   `index`  

### message

When set, hide the data visualization and display the message.  Setting
`message` does not clear the internal `perspective.table`, but it does
render it hidden until the message is removed.

**Parameters**

-   `msg` **[string][22]** The message. This can be HTML - it is not sanitized.

**Examples**

```javascript
let elem = document.getElementById('my_viewer');
elem.setAttribute('message', '<h1>Loading</h1>');
```

### worker

This element's `perspective` worker instance.  This property is not 
reflected as an HTML attribute, and is readonly;  it can be effectively 
set however by calliong the `load() method with a`perspective.table\` 
instance from the preferred worker.

**Examples**

```javascript
let elem = document.getElementById('my_viewer');
let table = elem.worker.table([{x:1, y:2}]);
elem.load(table);
```

### load

Load data.  If `load` or `update` have already been called on this
element, its internal `perspective.table` will also be deleted.

**Parameters**

-   `data` **any** The data to load.  Works with the same input types
    supported by `perspective.table`.

**Examples**

_Load JSON_

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.load([
    {x: 1, y: 'a'},
    {x: 2, y: 'b'}
]);
```

_Load CSV_

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.load("x,y\n1,a\n2,b");
```

_Load perspective.table_

```javascript
const my_viewer = document.getElementById('#my_viewer');
const tbl = perspective.table("x,y\n1,a\n2,b");
my_viewer.load(tbl);
```

### update

Updates this element's `perspective.table` with new data.

**Parameters**

-   `data` **any** The data to load.  Works with the same input types
    supported by `perspective.table.update`.

**Examples**

```javascript
const my_viewer = document.getElementById('#my_viewer');
my_viewer.update([
    {x: 1, y: 'a'},
    {x: 2, y: 'b'}
]);
```

### notifyResize

Invalidate this element's dimensions and redraw.

### copy

Duplicate an existing `<perspective-element>`, including data and view
settings.  The underlying `perspective.table` will be shared between both
elements

**Parameters**

-   `widget` **any** A `<perspective-viewer>` instance to copy.

### delete

Deletes this element's data and clears it's internal state (but not its
user state).  This (or the underlying `perspective.table`'s equivalent
method) must be called in order for its memory to be reclaimed.

Returns **[Promise][24]&lt;[boolean][25]>** Whether or not this call resulted in the 
underlying `perspective.table` actually being deleted.

### save

Serialize this element's attribute/interaction state.

Returns **[object][23]** a serialized element.

### restore

Resotre this element to a state as generated by a reciprocal call to
`save`.

**Parameters**

-   `x` **[object][23]** returned by `save`.

### reset

Reset's this element's view state and attributes to default.  Does not
delete this element's `perspective.table` or otherwise modify the data
state.

## sort

Sets this `perspective.table.view`'s `sort` property, an array of column
names.

**Examples**

_via Javascript DOM_

```javascript
let elem = document.getElementById('my_viewer');
elem.setAttribute('sort', JSON.stringify(["x"]));
```

_via HTML_

```javascript
<perspective-viewer sort='["x"]'></perspective-viewer>
```

## columns

The set of visible columns.

**Parameters**

-   `columns` **[array][26]** An array of strings, the names of visible columns.

**Examples**

_via Javascript DOM_

```javascript
let elem = document.getElementById('my_viewer');
elem.setAttribute('columns', JSON.stringify(["x", "y'"]));
```

_via HTML_

```javascript
<perspective-viewer columns='["x", "y"]'></perspective-viewer>
```

## aggregates

The set of column aggregate configurations.

**Parameters**

-   `aggregates` **[object][23]** A dictionary whose keys are column names, and
    values are valid aggregations.  The `aggergates` attribute works as an
    override;  in lieu of a key for a column supplied by the developers, a
    default will be selected and reflected to the attribute based on the
    column's type.  See [perspective/src/js/defaults.js][27]

**Examples**

_via Javascript DOM_

```javascript
let elem = document.getElementById('my_viewer');
elem.setAttribute('aggregates', JSON.stringify({x: "distinct count"}));
```

_via HTML_

```javascript
<perspective-viewer aggregates='{"x": "distinct count"}'></perspective-viewer>
```

## filters

The set of column filter configurations.

**Examples**

_via Javascript DOM_

```javascript
let filters = [
    ["x", "<", 3], 
    ["y", "contains", "abc"]
];
let elem = document.getElementById('my_viewer');
elem.setAttribute('filters', JSON.stringify(filters));
```

_via HTML_

```javascript
<perspective-viewer filters='[["x", "<", 3], ["y", "contains", "abc"]]'></perspective-viewer>
```

## column-pivots

Sets this `perspective.table.view`'s `column_pivots` property.

## row-pivots

Sets this `perspective.table.view`'s `row_pivots` property.

[1]: #registerplugin

[2]: #_attribute

[3]: #view

[4]: #view-1

[5]: #index

[6]: #message

[7]: #worker

[8]: #load

[9]: #update

[10]: #notifyresize

[11]: #copy

[12]: #delete

[13]: #save

[14]: #restore

[15]: #reset

[16]: #sort

[17]: #columns

[18]: #aggregates

[19]: #filters

[20]: #column-pivots

[21]: #row-pivots

[22]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[23]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[24]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[25]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[26]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[27]: perspective/src/js/defaults.js
